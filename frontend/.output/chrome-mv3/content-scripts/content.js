var content=(function(){"use strict";function V(d){return d}const Y={matches:["<all_urls>"],runAt:"document_idle",main(){const d={1:"january","01":"january",2:"february","02":"february",3:"march","03":"march",4:"april","04":"april",5:"may","05":"may",6:"june","06":"june",7:"july","07":"july",8:"august","08":"august",9:"september","09":"september",10:"october",11:"november",12:"december"};function a(e){const o=[];if(e.id){const i=document.querySelector(`label[for="${CSS.escape(e.id)}"]`);i&&o.push(i.textContent||"")}const n=e.closest("label");n&&o.push(n.textContent||"");const r=e.previousElementSibling;r&&["LABEL","SPAN","P","DIV"].includes(r.tagName)&&o.push(r.textContent||"");const s=e.parentElement;s&&s.querySelectorAll('label, span[class*="label"], div[class*="label"], p').forEach(i=>o.push(i.textContent||""));const t=e.closest("div, fieldset, li, section");if(t){const i=t.querySelector('label, legend, span[class*="label"], div[class*="label"]');i&&o.push(i.textContent||"")}return o.join(" ").toLowerCase().replace(/\s+/g," ").trim()}function l(e){const o=e.id?.toLowerCase()||"",n=e.name?.toLowerCase()||"",r=e.placeholder?.toLowerCase()||"",s=e.getAttribute("aria-label")?.toLowerCase()||"",t=(e.getAttribute("data-field")||e.getAttribute("data-testid")||e.getAttribute("data-cy")||"").toLowerCase(),i=e.getAttribute("autocomplete")?.toLowerCase()||"",f=a(e),c=`${o} ${n} ${r} ${s} ${f} ${t} ${i}`,y=[{keywords:["fullname","full-name","full_name","yourname","your-name","applicantname","candidatename"],type:"fullName",confidence:.9},{keywords:["firstname","first-name","first_name","fname","given-name","givenname","forename","first name","given name"],type:"firstName",confidence:.95},{keywords:["lastname","last-name","last_name","lname","surname","family-name","familyname","family name","last name"],type:"lastName",confidence:.95},{keywords:["email","e-mail","emailaddress","email address","email-address","mail"],type:"email",confidence:.95},{keywords:["phone","telephone","mobile","phonenumber","phone-number","phone number","cell phone","contact number","tel"],type:"phone",confidence:.9},{keywords:["countrycode","country-code","country_code","dialcode","dial-code","dial code","calling code","isd"],type:"countryCode",confidence:.9},{keywords:["phone type","phonetype","number type","type of phone","contact type","phone device type"],type:"phoneType",confidence:.85},{keywords:["streetaddress","street-address","address1","address-line-1","addressline1","address line 1","addr1","mailing address","street","address"],type:"streetAddress",confidence:.85},{keywords:["city","town","suburb","municipality"],type:"city",confidence:.9},{keywords:["zipcode","zip-code","zip","postalcode","postal-code","postcode","postal code"],type:"zipCode",confidence:.85},{keywords:["state","province","region","county"],type:"state",confidence:.75},{keywords:["country","nation","country of residence","country of origin","citizenship","nationality","home country","location country"],type:"country",confidence:.9},{keywords:["location","residence","based in","current location","preferred location","work location","where are you located"],type:"location",confidence:.8},{keywords:["summary","professional summary","about me","about yourself","bio","profile","objective","introduction","describe yourself","tell us about yourself","personal statement"],type:"professionalSummary",confidence:.75},{keywords:["cover letter","covering letter","motivation letter","motivational letter","letter of motivation","why do you want","why are you interested"],type:"coverLetter",confidence:.85},{keywords:["skill","skills","expertise","competencies","technologies","tech stack","tools","technical skills","key skills"],type:"skills",confidence:.75},{keywords:["jobtitle","job-title","job title","currenttitle","current title","current job title","desired title"],type:"jobTitle",confidence:.9},{keywords:["title"],type:"jobTitle",confidence:.7},{keywords:["industry"],type:"industry",confidence:.75},{keywords:["company","employer","organization","organisation","current company","current employer","workplace"],type:"companyName",confidence:.85},{keywords:["start month","startmonth","start-month","from month"],type:"expStartMonth",confidence:.9},{keywords:["start year","startyear","start-year","from year","year started"],type:"expStartYear",confidence:.9},{keywords:["end month","endmonth","end-month","to month"],type:"expEndMonth",confidence:.9},{keywords:["end year","endyear","end-year","to year","year ended","year finished"],type:"expEndYear",confidence:.9},{keywords:["highest education","level of education","education level","degree level","highest degree"],type:"highestEdu",confidence:.9},{keywords:["school","university","college","institution","alma mater"],type:"schoolName",confidence:.85},{keywords:["degree","major","field of study","fieldofstudy","discipline","qualification","program","area of study"],type:"fieldOfStudy",confidence:.8},{keywords:["graduation year","grad year","year of graduation","completed year"],type:"eduEndYear",confidence:.85},{keywords:["enrollment year","enrolment year","year enrolled"],type:"eduStartYear",confidence:.8},{keywords:["project name","projectname","project title"],type:"projectName",confidence:.75},{keywords:["linkedin","linkedin url","linkedin profile"],type:"linkedin",confidence:.95},{keywords:["github","github url","github profile"],type:"github",confidence:.95},{keywords:["website","personal website","portfolio url","portfolio link","personal url","your website"],type:"website",confidence:.75},{keywords:["salary","expected salary","desired salary","compensation","salary expectation","base salary","rate"],type:"salary",confidence:.85},{keywords:["currency","salary currency","pay currency"],type:"salaryCurrency",confidence:.8},{keywords:["salary type","pay type","pay period","compensation type"],type:"salaryType",confidence:.8},{keywords:["language","languages spoken","language proficiency"],type:"language",confidence:.75},{keywords:["language level","proficiency","fluency"],type:"languageLevel",confidence:.75},{keywords:["availability","start date","available from","when can you start","notice period"],type:"availability",confidence:.85},{keywords:["years of experience","experience years","how many years","total experience","years experience"],type:"yearsOfExperience",confidence:.85},{keywords:["work authorization","authorized to work","visa status","right to work","work permit","eligible to work"],type:"workAuth",confidence:.85},{keywords:["willing to relocate","open to relocate","relocation","relocate"],type:"relocation",confidence:.8},{keywords:["gender","sex"],type:"gender",confidence:.8},{keywords:["race","ethnicity","ethnic"],type:"ethnicity",confidence:.8},{keywords:["veteran","military","armed forces"],type:"veteran",confidence:.8},{keywords:["disability","disabled","impairment"],type:"disability",confidence:.8},{keywords:["how did you hear","referral source","where did you hear"],type:"referralSource",confidence:.8}];for(const w of y)for(const k of w.keywords)if(c.includes(k)){if(k==="name"&&(c.includes("first")||c.includes("last")||c.includes("full")||c.includes("company")||c.includes("school")))continue;if(k==="title"){if(c.includes("job")||c.includes("current")||c.includes("desired"))return{type:"jobTitle",confidence:.9};if(c.includes("mr")||c.includes("ms")||c.includes("dr")||c.includes("salutation"))continue}return{type:w.type,confidence:w.confidence}}return/\bname\b/.test(c)&&!c.includes("first")&&!c.includes("last")&&!c.includes("company")&&!c.includes("school")&&!c.includes("file")?{type:"fullName",confidence:.7}:{type:"unknown",confidence:0}}function u(){const e=[];return document.querySelectorAll('input:not([type="submit"]):not([type="button"]):not([type="hidden"]):not([type="file"]):not([type="image"]):not([type="reset"]):not([type="checkbox"]), textarea, select').forEach(o=>{if(!(o instanceof HTMLInputElement)&&!(o instanceof HTMLTextAreaElement)&&!(o instanceof HTMLSelectElement))return;const{type:n,confidence:r}=l(o);r>.5&&e.push({element:o,type:n,confidence:r})}),e}function m(e,o){if(!o)return;e.focus();const n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set,r=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value")?.set,s=e instanceof HTMLInputElement?n:r;s?s.call(e,o):e.value=o;const t={bubbles:!0,cancelable:!0,composed:!0};e.dispatchEvent(new Event("input",t)),e.dispatchEvent(new Event("change",t)),e.dispatchEvent(new InputEvent("input",{...t,data:o})),e.dispatchEvent(new KeyboardEvent("keydown",{...t,key:"Enter"})),e.blur()}function v(e,o,n,r){if(!o)return;const s=(n||"01").padStart(2,"0"),t="01".padStart(2,"0"),i=`${o}-${s}-${t}`;m(e,i)}function q(e,o){if(!o)return!1;const n=o.toLowerCase().trim(),r=Array.from(e.options);let s=r.find(t=>t.text.toLowerCase().trim()===n||t.value.toLowerCase().trim()===n);return s||(s=r.find(t=>{const i=t.text.toLowerCase().trim();return i.length>1&&(n.includes(i)||i.includes(n))})),s||(s=r.find(t=>{const i=t.value.toLowerCase().trim();return i.length>1&&(n.includes(i)||i.includes(n))})),!s&&n.length>3&&(s=r.find(t=>t.text.toLowerCase().trim().startsWith(n.substring(0,4)))),s?(e.value=s.value,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0):!1}function P(e,o){if(!o)return!1;const n=d[o]||o.toLowerCase(),r=o.padStart(2,"0"),t=Array.from(e.options).find(i=>{const f=i.text.toLowerCase().trim(),c=i.value.toLowerCase().trim();return f===n||c===o||c===r||f.startsWith(n.substring(0,3))});return t?(e.value=t.value,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0):!1}function _(e,o){if(!o)return!1;const n=o.toLowerCase(),r=Array.from(e.options).find(s=>{const t=s.text.toLowerCase();return t.includes(n)||n.includes("bachelor")&&t.includes("bachelor")||n.includes("master")&&t.includes("master")||(n.includes("phd")||n.includes("doctor"))&&(t.includes("doctor")||t.includes("phd"))});return r?(e.value=r.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function O(e,o){if(!o)return!1;const n=parseInt(o),r=Array.from(e.options).find(s=>{const t=s.text.toLowerCase();if(t.includes(o))return!0;const i=t.match(/\d+/g);if(i){const f=parseInt(i[0]);if(i.length===1&&t.includes("+")&&n>=f||i.length===2&&n>=f&&n<=parseInt(i[1]))return!0}return!1});return r?(e.value=r.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function z(e,o){if(!e||!o)return;const n=document.querySelectorAll(`input[type="radio"][name="${e}"]`);if(!n.length)return;const r=o.toLowerCase().trim();let s;n.forEach(t=>{const i=a(t).toLowerCase(),f=t.value.toLowerCase().trim();(f===r||i.includes(r)||r.includes(f))&&(s=t)}),s&&(s.checked=!0,s.dispatchEvent(new Event("change",{bubbles:!0})),s.dispatchEvent(new Event("click",{bubbles:!0})))}function H(e){const o=new Map;document.querySelectorAll('input[type="radio"]').forEach(n=>{if(!n.name||o.has(n.name))return;const r=a(n).toLowerCase(),s=n.name.toLowerCase(),t=`${r} ${s}`;t.includes("phone type")||t.includes("contact type")?o.set(n.name,"home"):t.includes("work auth")||t.includes("authorized")||t.includes("eligible")||t.includes("relocat")?o.set(n.name,"yes"):t.includes("gender")&&e.gender?o.set(n.name,e.gender):t.includes("veteran")?o.set(n.name,e.veteran||"no"):t.includes("disability")?o.set(n.name,e.disability||"no"):(t.includes("ethnicity")||t.includes("race"))&&o.set(n.name,e.ethnicity||"")}),o.forEach((n,r)=>n&&z(r,n))}async function L(e,o,n){try{const r=await chrome.storage.local.get(["auth_token","api_url"]),s=r.auth_token,t=r.api_url;if(!s||!t)return!1;const i=await chrome.runtime.sendMessage({action:"proxyFetchFile",url:`${t}${o}`,token:s});if(!i?.success)return!1;const c=await(await fetch(i.base64)).blob(),y=new File([c],n,{type:"application/pdf"}),w=new DataTransfer;return w.items.add(y),e.files=w.files,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0}catch(r){return console.error("[RAE] File upload error:",r),!1}}async function R(e,o){const n=Array.from(document.querySelectorAll('input[type="file"]'));document.querySelectorAll('button, [role="button"], a').forEach(t=>{const i=t.textContent?.toLowerCase().trim()||"",f=t.getAttribute("aria-label")?.toLowerCase()||"",c=`${i} ${f}`;if((c.includes("add file")||c.includes("attach file")||c.includes("upload file")||c.includes("choose file"))&&!c.includes("remove")){const y=t.closest("div, section, form")?.querySelector('input[type="file"]');y&&y instanceof HTMLInputElement&&!n.includes(y)&&n.push(y)}});let r=!1,s=!1;for(const t of n){const i=a(t).toLowerCase(),f=t.id?.toLowerCase()||"",c=t.name?.toLowerCase()||"",y=`${i} ${f} ${c}`,w=y.includes("resume")||y.includes("cv")||y.includes("curriculum");(y.includes("cover")||y.includes("letter")||y.includes("motivation"))&&o&&!s?await L(t,"/api/cv/view","cover-letter.pdf")&&(s=!0):w&&!r&&await L(t,"/api/resume/view","resume.pdf")&&(r=!0)}for(const t of n){if(t.files&&t.files.length>0)continue;const i=t.accept?.toLowerCase()||"";if(a(t).toLowerCase(),(i.includes("pdf")||i===""||i.includes("*"))&&!r&&await L(t,"/api/resume/view","resume.pdf")){r=!0;continue}o&&!s&&await L(t,"/api/cv/view","cover-letter.pdf")&&(s=!0)}}async function I(e,o){const r={experience:["add experience","add work","add job","add position","add employment","+ experience","+ work"],education:["add education","add school","add degree","add qualification","+ education"]}[e],s=Array.from(document.querySelectorAll('button, [role="button"]')).find(f=>{const c=f.textContent?.toLowerCase().trim()||"";return r.some(y=>c.includes(y))});if(!s)return;const t=document.querySelectorAll("input, textarea, select").length;s.click(),await new Promise(f=>setTimeout(f,800)),document.querySelectorAll("input, textarea, select").length>t&&await N(o)}async function N(e,o){const n=u();let r=0;const s=`${e.firstName} ${e.lastName}`.trim(),t=e.experience?.[0],i=e.education?.[0],f=e.projects?.[0],c=e.location||[e.city,e.country].filter(Boolean).join(", "),y=e.portfolio||e.github||e.linkedin||f?.link||"",w=(()=>{let p=0;return e.experience?.forEach(h=>{const b=parseInt(h.startYear)*12+(parseInt(h.startMonth)||1),g=!h.endYear||h.endYear.toLowerCase().includes("present"),W=g?new Date().getFullYear():parseInt(h.endYear),G=g?new Date().getMonth()+1:parseInt(h.endMonth)||1,M=W*12+G;isNaN(M-b)||(p+=M-b)}),String(Math.max(0,Math.floor(p/12)))})();e.salaryAmount&&`${e.salaryAmount} ${e.salaryCurrency||""}`.trim();const k={fullName:s,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,countryCode:e.countryCode||"",phoneNumber:e.phoneNumber||e.phone,phoneType:"Home",streetAddress:e.streetAddress,city:e.city,state:e.state||"",zipCode:e.zipCode||"",country:e.country,location:c,professionalSummary:e.professionalSummary,coverLetter:e.professionalSummary,skills:Array.isArray(e.skills)?e.skills.join(", "):"",jobTitle:t?.jobTitle||"",industry:t?.companyName||t?.jobTitle||"",companyName:t?.companyName||"",expStartMonth:t?.startMonth||"",expStartYear:t?.startYear||"",expEndMonth:t?.endMonth||"",expEndYear:t?.endYear||"",schoolName:i?.schoolName||"",fieldOfStudy:i?.fieldOfStudy||"",eduStartYear:i?.startYear||"",eduEndYear:i?.endYear||"",highestEdu:i?.fieldOfStudy||"",projectName:f?.projectName||"",linkedin:e.linkedin||"",github:e.github||"",website:y,salary:e.salaryAmount||"",salaryCurrency:e.salaryCurrency||"USD",salaryType:e.salaryType||"monthly",language:e.languages?.[0]?.language||"",languageLevel:e.languages?.[0]?.level||"",availability:e.availability||"",yearsOfExperience:w,workAuth:"Yes",relocation:"Yes",gender:e.gender||"",ethnicity:e.ethnicity||"",veteran:e.veteran||"No",disability:e.disability||"No",referralSource:""};for(const{element:p,type:h}of n){const b=k[h];if(b)if(p instanceof HTMLInputElement&&p.type==="date")h==="expStartYear"&&t?.startYear?v(p,t.startYear,t.startMonth||"01"):h==="expEndYear"&&t?.endYear?v(p,t.endYear,t.endMonth||"12"):h==="eduStartYear"&&i?.startYear?v(p,i.startYear,"09"):h==="eduEndYear"&&i?.endYear?v(p,i.endYear,"05"):v(p,b),r++;else if(p instanceof HTMLSelectElement){let g=!1;h==="expStartMonth"||h==="expEndMonth"?g=P(p,b):h==="highestEdu"?g=_(p,b):h==="yearsOfExperience"?g=O(p,b):g=q(p,b),g&&r++}else(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement)&&(m(p,b),r++)}return r}async function U(e,o){let n=await N(e);return await new Promise(r=>setTimeout(r,300)),await I("experience",e),await I("education",e),await new Promise(r=>setTimeout(r,300)),H(e),await new Promise(r=>setTimeout(r,200)),await R(e,o),n}chrome.runtime.onMessage.addListener((e,o,n)=>{if(e.action==="autofill")return U(e.resumeData,e.cvAvailable).then(r=>{n({success:!0,filledCount:r})}),!0;if(e.action==="detectFields")return n({success:!0,fieldCount:u().length}),!0}),console.log("[RAE] Autofill content script loaded")}},T=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function E(d,...a){}const $={debug:(...d)=>E(console.debug,...d),log:(...d)=>E(console.log,...d),warn:(...d)=>E(console.warn,...d),error:(...d)=>E(console.error,...d)};class A extends Event{constructor(a,l){super(A.EVENT_NAME,{}),this.newUrl=a,this.oldUrl=l}static EVENT_NAME=x("wxt:locationchange")}function x(d){return`${T?.runtime?.id}:content:${d}`}function j(d){let a,l;return{run(){a==null&&(l=new URL(location.href),a=d.setInterval(()=>{let u=new URL(location.href);u.href!==l.href&&(window.dispatchEvent(new A(u,l)),l=u)},1e3))}}}class S{constructor(a,l){this.contentScriptName=a,this.options=l,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=x("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=j(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(a){return this.abortController.abort(a)}get isInvalid(){return T.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(a){return this.signal.addEventListener("abort",a),()=>this.signal.removeEventListener("abort",a)}block(){return new Promise(()=>{})}setInterval(a,l){const u=setInterval(()=>{this.isValid&&a()},l);return this.onInvalidated(()=>clearInterval(u)),u}setTimeout(a,l){const u=setTimeout(()=>{this.isValid&&a()},l);return this.onInvalidated(()=>clearTimeout(u)),u}requestAnimationFrame(a){const l=requestAnimationFrame((...u)=>{this.isValid&&a(...u)});return this.onInvalidated(()=>cancelAnimationFrame(l)),l}requestIdleCallback(a,l){const u=requestIdleCallback((...m)=>{this.signal.aborted||a(...m)},l);return this.onInvalidated(()=>cancelIdleCallback(u)),u}addEventListener(a,l,u,m){l==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),a.addEventListener?.(l.startsWith("wxt:")?x(l):l,u,{...m,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),$.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:S.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(a){const l=a.data?.type===S.SCRIPT_STARTED_MESSAGE_TYPE,u=a.data?.contentScriptName===this.contentScriptName,m=!this.receivedMessageIds.has(a.data?.messageId);return l&&u&&m}listenForNewerScripts(a){let l=!0;const u=m=>{if(this.verifyScriptStartedEvent(m)){this.receivedMessageIds.add(m.data.messageId);const v=l;if(l=!1,v&&a?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",u),this.onInvalidated(()=>removeEventListener("message",u))}}function K(){}function C(d,...a){}const F={debug:(...d)=>C(console.debug,...d),log:(...d)=>C(console.log,...d),warn:(...d)=>C(console.warn,...d),error:(...d)=>C(console.error,...d)};return(async()=>{try{const{main:d,...a}=Y,l=new S("content",a);return await d(l)}catch(d){throw F.error('The content script "content" crashed on startup!',d),d}})()})();
content;