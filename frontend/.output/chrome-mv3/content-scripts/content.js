var content=(function(){"use strict";function q(a){return a}const N={matches:["<all_urls>"],runAt:"document_idle",main(){function a(e){const r=[];if(e.id){const i=document.querySelector(`label[for="${CSS.escape(e.id)}"]`);i&&r.push(i.textContent||"")}const t=e.closest("label");t&&r.push(t.textContent||"");const o=e.previousElementSibling;o&&(o.tagName==="LABEL"||o.tagName==="SPAN"||o.tagName==="P")&&r.push(o.textContent||"");const s=e.parentElement;s&&s.querySelectorAll('label, span[class*="label"], div[class*="label"], p').forEach(p=>r.push(p.textContent||""));const n=e.closest("div, fieldset, li, section");if(n){const i=n.querySelector('label, legend, span[class*="label"], div[class*="label"]');i&&r.push(i.textContent||"")}return r.join(" ").toLowerCase().replace(/\s+/g," ").trim()}function c(e){const r=e.id?.toLowerCase()||"",t=e.name?.toLowerCase()||"",o=e.placeholder?.toLowerCase()||"",s=e.getAttribute("aria-label")?.toLowerCase()||"",n=(e.getAttribute("data-field")||e.getAttribute("data-testid")||e.getAttribute("data-cy")||"").toLowerCase(),i=e.getAttribute("autocomplete")?.toLowerCase()||"",p=a(e),u=`${r} ${t} ${o} ${s} ${p} ${n} ${i}`,h=[{keywords:["fullname","full-name","full_name","yourname","your-name","your_name","applicantname","applicant-name","candidatename","candidate-name"],type:"fullName",confidence:.9},{keywords:["firstname","first-name","first_name","fname","given-name","givenname","forename","first name","given name"],type:"firstName",confidence:.95},{keywords:["lastname","last-name","last_name","lname","surname","family-name","familyname","family name","last name"],type:"lastName",confidence:.95},{keywords:["email","e-mail","emailaddress","email address","email-address","mail"],type:"email",confidence:.95},{keywords:["phone","telephone","mobile","phonenumber","phone-number","phone number","cell phone","contact number","tel"],type:"phone",confidence:.9},{keywords:["countrycode","country-code","country_code","dialcode","dial-code","dial code","calling code","isd"],type:"countryCode",confidence:.9},{keywords:["phone type","phonetype","number type","type of phone","contact type","Phone Device Type"],type:"phoneType",confidence:.85},{keywords:["streetaddress","addr1","mailing address","street-address","address1","address-line-1","addressline1","address line 1","address line1","street","address"],type:"streetAddress",confidence:.95},{keywords:["city","town","suburb","municipality"],type:"city",confidence:.9},{keywords:["zipcode","zip-code","zip","postalcode","postal-code","postcode","postal code"],type:"zipCode",confidence:.85},{keywords:["state","province","region","county"],type:"state",confidence:.75},{keywords:["country","nation","country of residence","country of origin","country name","where do you live","resident of","home country","citizenship","nationality","location country"],type:"country",confidence:.95},{keywords:["location","residence","based in","where are you located","current location","preferred location","work location"],type:"location",confidence:.8},{keywords:["where do you live","current residence","based in"],type:"residenceCountry",confidence:.9},{keywords:["summary","professional summary","about me","about yourself","bio","profile","objective","introduction","describe yourself","tell us about yourself","personal statement","cover letter","covering letter"],type:"professionalSummary",confidence:.75},{keywords:["skill","skills","expertise","competencies","competenc","technologies","tech stack","tools","technical skills","key skills"],type:"skills",confidence:.75},{keywords:["jobtitle","job-title","job title","currenttitle","current title","current job title","desired title","position","role","your title"],type:"jobTitle",confidence:.85},{keywords:["company","employer","organization","organisation","current company","current employer","workplace","most recent employer"],type:"companyName",confidence:.85},{keywords:["start month","startmonth","start-month","from month","beginning month"],type:"expStartMonth",confidence:.9},{keywords:["start year","startyear","start-year","from year","beginning year","year started"],type:"expStartYear",confidence:.9},{keywords:["end month","endmonth","end-month","to month","finish month"],type:"expEndMonth",confidence:.9},{keywords:["end year","endyear","end-year","to year","finish year","year ended","year finished"],type:"expEndYear",confidence:.9},{keywords:["highest education","level of education","education level","degree level","highest degree"],type:"highestEdu",confidence:.9},{keywords:["school","university","college","institution","alma mater","school name","institution name","university name"],type:"schoolName",confidence:.85},{keywords:["degree","major","field of study","fieldofstudy","discipline","qualification","course of study","program","area of study"],type:"fieldOfStudy",confidence:.8},{keywords:["graduation year","grad year","year of graduation","completed year","year completed"],type:"eduEndYear",confidence:.85},{keywords:["enrollment year","enrolment year","year enrolled","start year of study"],type:"eduStartYear",confidence:.8},{keywords:["project name","projectname","project title"],type:"projectName",confidence:.75},{keywords:["linkedin","linkedin url","linkedin profile","linkedin link"],type:"linkedin",confidence:.95},{keywords:["github","github url","github profile","github link"],type:"github",confidence:.95},{keywords:["website","personal website","portfolio url","portfolio link","personal url","your website"],type:"website",confidence:.75},{keywords:["other","additional","supporting document","attachment"],type:"additionalFile",confidence:.7},{keywords:["salary","expected salary","desired salary","compensation","expected compensation","salary expectation"],type:"salary",confidence:.8},{keywords:["years of experience","experience years","how many years","total experience","years experience"],type:"yearsOfExperience",confidence:.85},{keywords:["work authorization","work authorisation","authorized to work","visa status","right to work","work permit","eligible to work"],type:"workAuth",confidence:.85},{keywords:["willing to relocate","open to relocate","relocation","relocate"],type:"relocation",confidence:.8},{keywords:["gender","sex"],type:"gender",confidence:.8},{keywords:["race","ethnicity","ethnic"],type:"ethnicity",confidence:.8},{keywords:["veteran","military","armed forces"],type:"veteran",confidence:.8},{keywords:["disability","disabled","impairment"],type:"disability",confidence:.8},{keywords:["how did you hear","how did you find","referral source","where did you hear"],type:"referralSource",confidence:.8}];for(const f of h)for(const y of f.keywords)if(u.includes(y)){if(y==="name"&&(u.includes("first")||u.includes("last")||u.includes("full")||u.includes("company")||u.includes("school")||u.includes("project")))continue;return{type:f.type,confidence:f.confidence}}return/\bname\b/.test(u)&&!u.includes("first")&&!u.includes("last")&&!u.includes("company")&&!u.includes("school")&&!u.includes("file")?{type:"fullName",confidence:.7}:{type:"unknown",confidence:0}}function l(){const e=[];return document.querySelectorAll('input:not([type="submit"]):not([type="button"]):not([type="hidden"]):not([type="file"]):not([type="image"]):not([type="reset"]), textarea, select').forEach(t=>{if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLTextAreaElement)&&!(t instanceof HTMLSelectElement))return;const{type:o,confidence:s}=c(t);s>.5&&e.push({element:t,type:o,confidence:s})}),e}function d(e,r){if(!r)return;e.focus();const t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set,o=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value")?.set,s=e instanceof HTMLInputElement?t:o;s?s.call(e,r):e.value=r;const n={bubbles:!0,cancelable:!0,composed:!0};e.dispatchEvent(new Event("input",n)),e.dispatchEvent(new Event("change",n)),e.dispatchEvent(new KeyboardEvent("keydown",{...n,key:"Enter"})),e.blur()}function m(e,r){if(!r)return!1;const t=r.toLowerCase().trim(),o=Array.from(e.options);let s=o.find(n=>n.text.toLowerCase().trim()===t||n.value.toLowerCase().trim()===t);if(s||(s=o.find(n=>{const i=n.text.toLowerCase().trim();return i.length>1&&(t.includes(i)||i.includes(t))})),!s&&t.length>3&&(s=o.find(n=>n.text.toLowerCase().trim().startsWith(t.substring(0,3)))),s){e.value=s.value;const n={bubbles:!0,cancelable:!0};return e.dispatchEvent(new Event("change",n)),e.dispatchEvent(new Event("input",n)),!0}return!1}function L(e,r){if(!r)return!1;const t=Array.from(e.options),o=r.toLowerCase(),s=t.find(n=>{const i=n.text.toLowerCase();return i.includes(o)||o.includes("bachelor")&&i.includes("bachelor")||o.includes("master")&&i.includes("master")||o.includes("phd")&&i.includes("doctorate")});return s?(e.value=s.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function F(e,r){if(!r)return!1;const t=Array.from(e.options),o=parseInt(r),s=t.find(n=>{const i=n.text.toLowerCase();if(i.includes(r))return!0;const p=i.match(/\d+/g);if(p){const u=parseInt(p[0]);if(p.length===1&&i.includes("+")&&o>=u)return!0;if(p.length===2){const h=parseInt(p[1]);return o>=u&&o<=h}}return!1});return s?(e.value=s.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function Y(e,r){if(!e||!r)return;const t=document.querySelectorAll(`input[type="radio"][name="${e}"]`);if(!t.length)return;const o=r.toLowerCase().trim();let s;t.forEach(n=>{const i=a(n).toLowerCase(),p=n.value.toLowerCase().trim();(p===o||i.includes(o)||o.includes(p))&&(s=n)}),s&&(s.checked=!0,s.dispatchEvent(new Event("change",{bubbles:!0})),s.dispatchEvent(new Event("click",{bubbles:!0})))}function j(e){const r=new Map;document.querySelectorAll('input[type="radio"]').forEach(t=>{if(t.name&&!r.has(t.name)){const o=a(t).toLowerCase(),s=t.name.toLowerCase(),n=`${o} ${s}`;n.includes("phone type")||n.includes("type of phone")||n.includes("contact type")?r.set(t.name,"home"):n.includes("work auth")||n.includes("authorized")||n.includes("eligible")||n.includes("relocat")?r.set(t.name,"yes"):n.includes("gender")||(n.includes("veteran")||n.includes("disability"))&&r.set(t.name,"no")}}),r.forEach((t,o)=>Y(o,t))}async function x(e,r,t){try{const o=await chrome.storage.local.get(["auth_token","api_url"]),s=o.auth_token,n=o.api_url;if(!s||!n)return!1;const i=await chrome.runtime.sendMessage({action:"proxyFetchFile",url:`${n}${r}`,token:s});if(!i||!i.success)return!1;const u=await(await fetch(i.base64)).blob(),h=new File([u],t,{type:"application/pdf"}),f=new DataTransfer;return f.items.add(h),e.files=f.files,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0}catch(o){return console.error("[RAE] File upload error:",o),!1}}async function _(e){const r=document.querySelectorAll('input[type="file"]');for(const t of r){const o=a(t),s=t.id?.toLowerCase()||"",n=t.name?.toLowerCase()||"",i=t.accept?.toLowerCase()||"",p=`${o} ${s} ${n} ${i}`,u=p.includes("cover")||p.includes("letter"),h=p.includes("resume")||p.includes("cv")||p.includes("curriculum vitae"),f=i.includes("pdf")||i.includes(".pdf")||i===""||i.includes("*");u&&e?await x(t,"/api/cv/view","cover-letter.pdf"):(h||!u&&f)&&await x(t,"/api/resume/view","resume.pdf")}}async function P(e,r){const t=l();let o=0;const s=`${e.firstName} ${e.lastName}`.trim(),n=e.experience?.[0],i=e.education?.[0],p=e.projects?.[0];e.location||[e.city,e.country].filter(Boolean).join(", ");const u=(()=>{let f=0;return e.experience?.forEach(y=>{const w=parseInt(y.startYear)*12+(parseInt(y.startMonth)||1),b=!y.endYear||y.endYear.toLowerCase().includes("present"),g=b?new Date().getFullYear():parseInt(y.endYear),O=b?new Date().getMonth()+1:parseInt(y.endMonth)||1,T=g*12+O;isNaN(T-w)||(f+=T-w)}),Math.max(0,Math.floor(f/12)).toString()})(),h={fullName:s,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,countryCode:e.countryCode||"",phoneNumber:e.phoneNumber||e.phone,phoneType:"Home",streetAddress:e.streetAddress,city:e.city,addressLine1:e.streetAddress,zipCode:"",state:"",country:e.country,residenceCountry:e.country,location:`${e.city}, ${e.country}`,professionalSummary:e.professionalSummary,skills:Array.isArray(e.skills)?e.skills.join(", "):"",jobTitle:n?.jobTitle||"",companyName:n?.companyName||"",expStartMonth:n?.startMonth||"",expStartYear:n?.startYear||"",expEndMonth:n?.endMonth||"",expEndYear:n?.endYear||"",schoolName:i?.schoolName||"",fieldOfStudy:i?.fieldOfStudy||"",eduStartYear:i?.startYear||"",eduEndYear:i?.endYear||"",highestEdu:i?.fieldOfStudy||"",yearsOfExperience:u,projectName:p?.projectName||"",linkedin:"",github:"",website:p?.link||"",salary:"",workAuth:"Yes",relocation:"Yes",referralSource:"",gender:"",ethnicity:"",veteran:"No",disability:"No"};for(const{element:f,type:y}of t){let w=h[y];const b=a(f).toLowerCase();if((b==="location"||b==="your location")&&(w=h.location),y==="city"&&b.includes("address")&&(w=h.streetAddress),!!w){if(f instanceof HTMLInputElement||f instanceof HTMLTextAreaElement)d(f,w),o++;else if(f instanceof HTMLSelectElement){let g=!1;y==="highestEdu"?g=L(f,w):y==="yearsOfExperience"?g=F(f,w):g=m(f,w),g&&o++}}}return await new Promise(f=>setTimeout(f,500)),j(),await _(r),o}chrome.runtime.onMessage.addListener((e,r,t)=>{if(e.action==="autofill")return P(e.resumeData,e.cvAvailable).then(o=>{t({success:!0,filledCount:o})}),!0;if(e.action==="detectFields"){const o=l();return t({success:!0,fieldCount:o.length}),!0}}),console.log("[RAE] Autofill content script loaded")}},A=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function v(a,...c){}const I={debug:(...a)=>v(console.debug,...a),log:(...a)=>v(console.log,...a),warn:(...a)=>v(console.warn,...a),error:(...a)=>v(console.error,...a)};class S extends Event{constructor(c,l){super(S.EVENT_NAME,{}),this.newUrl=c,this.oldUrl=l}static EVENT_NAME=C("wxt:locationchange")}function C(a){return`${A?.runtime?.id}:content:${a}`}function M(a){let c,l;return{run(){c==null&&(l=new URL(location.href),c=a.setInterval(()=>{let d=new URL(location.href);d.href!==l.href&&(window.dispatchEvent(new S(d,l)),l=d)},1e3))}}}class E{constructor(c,l){this.contentScriptName=c,this.options=l,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=C("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=M(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(c){return this.abortController.abort(c)}get isInvalid(){return A.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(c){return this.signal.addEventListener("abort",c),()=>this.signal.removeEventListener("abort",c)}block(){return new Promise(()=>{})}setInterval(c,l){const d=setInterval(()=>{this.isValid&&c()},l);return this.onInvalidated(()=>clearInterval(d)),d}setTimeout(c,l){const d=setTimeout(()=>{this.isValid&&c()},l);return this.onInvalidated(()=>clearTimeout(d)),d}requestAnimationFrame(c){const l=requestAnimationFrame((...d)=>{this.isValid&&c(...d)});return this.onInvalidated(()=>cancelAnimationFrame(l)),l}requestIdleCallback(c,l){const d=requestIdleCallback((...m)=>{this.signal.aborted||c(...m)},l);return this.onInvalidated(()=>cancelIdleCallback(d)),d}addEventListener(c,l,d,m){l==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),c.addEventListener?.(l.startsWith("wxt:")?C(l):l,d,{...m,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),I.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:E.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(c){const l=c.data?.type===E.SCRIPT_STARTED_MESSAGE_TYPE,d=c.data?.contentScriptName===this.contentScriptName,m=!this.receivedMessageIds.has(c.data?.messageId);return l&&d&&m}listenForNewerScripts(c){let l=!0;const d=m=>{if(this.verifyScriptStartedEvent(m)){this.receivedMessageIds.add(m.data.messageId);const L=l;if(l=!1,L&&c?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",d),this.onInvalidated(()=>removeEventListener("message",d))}}function z(){}function k(a,...c){}const $={debug:(...a)=>k(console.debug,...a),log:(...a)=>k(console.log,...a),warn:(...a)=>k(console.warn,...a),error:(...a)=>k(console.error,...a)};return(async()=>{try{const{main:a,...c}=N,l=new E("content",c);return await a(l)}catch(a){throw $.error('The content script "content" crashed on startup!',a),a}})()})();
content;