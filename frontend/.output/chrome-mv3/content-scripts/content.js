var content=(function(){"use strict";function q(a){return a}const N={matches:["<all_urls>"],runAt:"document_idle",main(){function a(e){const i=[];if(e.id){const s=document.querySelector(`label[for="${CSS.escape(e.id)}"]`);s&&i.push(s.textContent||"")}const r=e.closest("label");r&&i.push(r.textContent||"");const n=e.previousElementSibling;n&&(n.tagName==="LABEL"||n.tagName==="SPAN"||n.tagName==="P")&&i.push(n.textContent||"");const o=e.parentElement;o&&o.querySelectorAll('label, span[class*="label"], div[class*="label"], p').forEach(f=>i.push(f.textContent||""));const t=e.closest("div, fieldset, li, section");if(t){const s=t.querySelector('label, legend, span[class*="label"], div[class*="label"]');s&&i.push(s.textContent||"")}return i.join(" ").toLowerCase().replace(/\s+/g," ").trim()}function c(e){const i=e.id?.toLowerCase()||"",r=e.name?.toLowerCase()||"",n=e.placeholder?.toLowerCase()||"",o=e.getAttribute("aria-label")?.toLowerCase()||"",t=(e.getAttribute("data-field")||e.getAttribute("data-testid")||e.getAttribute("data-cy")||"").toLowerCase(),s=e.getAttribute("autocomplete")?.toLowerCase()||"",f=a(e),d=`${i} ${r} ${n} ${o} ${f} ${t} ${s}`,h=[{keywords:["fullname","full-name","full_name","yourname","your-name","your_name","applicantname","applicant-name","candidatename","candidate-name"],type:"fullName",confidence:.9},{keywords:["firstname","first-name","first_name","fname","given-name","givenname","forename","first name","given name"],type:"firstName",confidence:.95},{keywords:["lastname","last-name","last_name","lname","surname","family-name","familyname","family name","last name"],type:"lastName",confidence:.95},{keywords:["email","e-mail","emailaddress","email address","email-address","mail"],type:"email",confidence:.95},{keywords:["phone","telephone","mobile","phonenumber","phone-number","phone number","cell phone","contact number","tel"],type:"phone",confidence:.9},{keywords:["countrycode","country-code","country_code","dialcode","dial-code","dial code","calling code","isd"],type:"countryCode",confidence:.9},{keywords:["phone type","phonetype","number type","type of phone","contact type","Phone Device Type","mobile"],type:"phoneType",confidence:.85},{keywords:["streetaddress","addr1","mailing address","street-address","address1","address-line-1","addressline1","address line 1","address line1","street","address"],type:"streetAddress",confidence:.95},{keywords:["city","town","suburb","municipality"],type:"city",confidence:.9},{keywords:["zipcode","zip-code","zip","postalcode","postal-code","postcode","postal code"],type:"zipCode",confidence:.85},{keywords:["state","province","region","county"],type:"state",confidence:.75},{keywords:["country","nation","country of residence","country of origin","country name","where do you live","resident of","home country","citizenship","nationality","location country"],type:"country",confidence:.95},{keywords:["location","residence","based in","where are you located","current location","preferred location","work location"],type:"location",confidence:.8},{keywords:["where do you live","current residence","based in"],type:"residenceCountry",confidence:.9},{keywords:["summary","professional summary","about me","about yourself","bio","profile","objective","introduction","describe yourself","tell us about yourself","personal statement","cover letter","covering letter"],type:"professionalSummary",confidence:.75},{keywords:["skill","skills","expertise","competencies","competenc","technologies","tech stack","tools","technical skills","key skills"],type:"skills",confidence:.75},{keywords:["jobtitle","job-title","job title","currenttitle","current title","current job title","desired title","position","role","your title"],type:"jobTitle",confidence:.85},{keywords:["company","employer","organization","organisation","current company","current employer","workplace","most recent employer"],type:"companyName",confidence:.85},{keywords:["start month","startmonth","start-month","from month","beginning month"],type:"expStartMonth",confidence:.9},{keywords:["start year","startyear","start-year","from year","beginning year","year started"],type:"expStartYear",confidence:.9},{keywords:["end month","endmonth","end-month","to month","finish month"],type:"expEndMonth",confidence:.9},{keywords:["end year","endyear","end-year","to year","finish year","year ended","year finished"],type:"expEndYear",confidence:.9},{keywords:["highest education","level of education","education level","degree level","highest degree"],type:"highestEdu",confidence:.9},{keywords:["school","university","college","institution","alma mater","school name","institution name","university name"],type:"schoolName",confidence:.85},{keywords:["degree","major","field of study","fieldofstudy","discipline","qualification","course of study","program","area of study"],type:"fieldOfStudy",confidence:.8},{keywords:["graduation year","grad year","year of graduation","completed year","year completed"],type:"eduEndYear",confidence:.85},{keywords:["enrollment year","enrolment year","year enrolled","start year of study"],type:"eduStartYear",confidence:.8},{keywords:["project name","projectname","project title"],type:"projectName",confidence:.75},{keywords:["linkedin","linkedin url","linkedin profile","linkedin link"],type:"linkedin",confidence:.95},{keywords:["github","github url","github profile","github link"],type:"github",confidence:.95},{keywords:["website","personal website","portfolio url","portfolio link","personal url","your website"],type:"website",confidence:.75},{keywords:["other","additional","supporting document","attachment"],type:"additionalFile",confidence:.7},{keywords:["salary","expected salary","desired salary","compensation","expected compensation","salary expectation"],type:"salary",confidence:.8},{keywords:["years of experience","experience years","how many years","total experience","years experience"],type:"yearsOfExperience",confidence:.85},{keywords:["work authorization","work authorisation","authorized to work","visa status","right to work","work permit","eligible to work"],type:"workAuth",confidence:.85},{keywords:["willing to relocate","open to relocate","relocation","relocate"],type:"relocation",confidence:.8},{keywords:["gender","sex"],type:"gender",confidence:.8},{keywords:["race","ethnicity","ethnic"],type:"ethnicity",confidence:.8},{keywords:["veteran","military","armed forces"],type:"veteran",confidence:.8},{keywords:["disability","disabled","impairment"],type:"disability",confidence:.8},{keywords:["how did you hear","how did you find","referral source","where did you hear"],type:"referralSource",confidence:.8}];for(const p of h)for(const y of p.keywords)if(d.includes(y)){if(y==="name"&&(d.includes("first")||d.includes("last")||d.includes("full")||d.includes("company")||d.includes("school")||d.includes("project")))continue;return{type:p.type,confidence:p.confidence}}return/\bname\b/.test(d)&&!d.includes("first")&&!d.includes("last")&&!d.includes("company")&&!d.includes("school")&&!d.includes("file")?{type:"fullName",confidence:.7}:{type:"unknown",confidence:0}}function l(){const e=[];return document.querySelectorAll('input:not([type="submit"]):not([type="button"]):not([type="hidden"]):not([type="file"]):not([type="image"]):not([type="reset"]), textarea, select').forEach(r=>{if(!(r instanceof HTMLInputElement)&&!(r instanceof HTMLTextAreaElement)&&!(r instanceof HTMLSelectElement))return;const{type:n,confidence:o}=c(r);o>.5&&e.push({element:r,type:n,confidence:o})}),e}function u(e,i){if(!i)return;e.focus();const r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set,n=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value")?.set,o=e instanceof HTMLInputElement?r:n;o?o.call(e,i):e.value=i;const t={bubbles:!0,cancelable:!0,composed:!0};e.dispatchEvent(new Event("input",t)),e.dispatchEvent(new Event("change",t)),e.dispatchEvent(new KeyboardEvent("keydown",{...t,key:"Enter"})),e.blur()}function m(e,i){if(!i)return!1;const r=i.toLowerCase().trim(),n=Array.from(e.options);let o=n.find(t=>t.text.toLowerCase().trim()===r||t.value.toLowerCase().trim()===r);if(o||(o=n.find(t=>{const s=t.text.toLowerCase().trim();return s.length>1&&(r.includes(s)||s.includes(r))})),!o&&r.length>3&&(o=n.find(t=>t.text.toLowerCase().trim().startsWith(r.substring(0,3)))),o){e.value=o.value;const t={bubbles:!0,cancelable:!0};return e.dispatchEvent(new Event("change",t)),e.dispatchEvent(new Event("input",t)),!0}return!1}function C(e,i){if(!i)return!1;const r=Array.from(e.options),n=i.toLowerCase(),o=r.find(t=>{const s=t.text.toLowerCase();return s.includes(n)||n.includes("bachelor")&&s.includes("bachelor")||n.includes("master")&&s.includes("master")||n.includes("phd")&&s.includes("doctorate")});return o?(e.value=o.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function F(e,i){if(!i)return!1;const r=Array.from(e.options),n=parseInt(i),o=r.find(t=>{const s=t.text.toLowerCase();if(s.includes(i))return!0;const f=s.match(/\d+/g);if(f){const d=parseInt(f[0]);if(f.length===1&&s.includes("+")&&n>=d)return!0;if(f.length===2){const h=parseInt(f[1]);return n>=d&&n<=h}}return!1});return o?(e.value=o.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function Y(e,i){if(!e||!i)return;const r=document.querySelectorAll(`input[type="radio"][name="${e}"]`);if(!r.length)return;const n=i.toLowerCase().trim();let o;r.forEach(t=>{const s=a(t).toLowerCase(),f=t.value.toLowerCase().trim();(f===n||s.includes(n)||n.includes(f))&&(o=t)}),o&&(o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("click",{bubbles:!0})))}function j(e){const i=new Map;document.querySelectorAll('input[type="radio"]').forEach(r=>{if(r.name&&!i.has(r.name)){const n=a(r).toLowerCase(),o=r.name.toLowerCase(),t=`${n} ${o}`;t.includes("phone type")||t.includes("type of phone")||t.includes("contact type")?i.set(r.name,"home"):t.includes("work auth")||t.includes("authorized")||t.includes("eligible")||t.includes("relocat")?i.set(r.name,"yes"):t.includes("gender")||(t.includes("veteran")||t.includes("disability"))&&i.set(r.name,"no")}}),i.forEach((r,n)=>Y(n,r))}async function A(e,i,r){try{const n=await chrome.storage.local.get(["auth_token","api_url"]),o=n.auth_token,t=n.api_url;if(!o||!t)return!1;const s=await chrome.runtime.sendMessage({action:"proxyFetchFile",url:`${t}${i}`,token:o});if(!s||!s.success)return!1;const d=await(await fetch(s.base64)).blob(),h=new File([d],r,{type:"application/pdf"}),p=new DataTransfer;return p.items.add(h),e.files=p.files,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0}catch(n){return console.error("[RAE] File upload error:",n),!1}}async function _(e){const i=Array.from(document.querySelectorAll('input[type="file"]'));let r=!1,n=!1;for(const o of i){const t=a(o).toLowerCase(),s=o.id?.toLowerCase()||"",f=o.name?.toLowerCase()||"",d=`${t} ${s} ${f}`,h=d.includes("resume")||d.includes("cv")||d.includes("curriculum"),p=d.includes("cover")||d.includes("letter");h?await A(o,"/api/resume/view","resume.pdf")&&(r=!0):p&&e&&await A(o,"/api/cv/view","cover-letter.pdf")&&(n=!0)}if(e&&r&&!n)for(const o of i){if(o.files&&o.files.length>0)continue;const t=a(o).toLowerCase(),s=o.id?.toLowerCase()||"",f=o.name?.toLowerCase()||"",d=`${t} ${s} ${f}`;if((d.includes("other")||d.includes("additional")||d.includes("supporting")||d.includes("attachment")||d.includes("portfolio"))&&await A(o,"/api/cv/view","cover-letter.pdf")){n=!0;break}}}async function P(e,i){const r=l();let n=0;const o=`${e.firstName} ${e.lastName}`.trim(),t=e.experience?.[0],s=e.education?.[0],f=e.projects?.[0];e.location||[e.city,e.country].filter(Boolean).join(", ");const d=(()=>{let p=0;return e.experience?.forEach(y=>{const w=parseInt(y.startYear)*12+(parseInt(y.startMonth)||1),b=!y.endYear||y.endYear.toLowerCase().includes("present"),g=b?new Date().getFullYear():parseInt(y.endYear),O=b?new Date().getMonth()+1:parseInt(y.endMonth)||1,T=g*12+O;isNaN(T-w)||(p+=T-w)}),Math.max(0,Math.floor(p/12)).toString()})(),h={fullName:o,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,countryCode:e.countryCode||"",phoneNumber:e.phoneNumber||e.phone,phoneType:"Home",streetAddress:e.streetAddress,city:e.city,addressLine1:e.streetAddress,zipCode:"",state:"",country:e.country,residenceCountry:e.country,location:`${e.city}, ${e.country}`,professionalSummary:e.professionalSummary,skills:Array.isArray(e.skills)?e.skills.join(", "):"",jobTitle:t?.jobTitle||"",companyName:t?.companyName||"",expStartMonth:t?.startMonth||"",expStartYear:t?.startYear||"",expEndMonth:t?.endMonth||"",expEndYear:t?.endYear||"",schoolName:s?.schoolName||"",fieldOfStudy:s?.fieldOfStudy||"",eduStartYear:s?.startYear||"",eduEndYear:s?.endYear||"",highestEdu:s?.fieldOfStudy||"",yearsOfExperience:d,projectName:f?.projectName||"",linkedin:e.linkedin||"",github:e.github||"",website:e.portfolio||f?.link||"",salary:"",workAuth:"Yes",relocation:"Yes",referralSource:"",gender:"",ethnicity:"",veteran:"No",disability:"No"};for(const{element:p,type:y}of r){let w=h[y];const b=a(p).toLowerCase();if((b==="location"||b==="your location")&&(w=h.location),y==="city"&&b.includes("address")&&(w=h.streetAddress),!!w){if(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement)u(p,w),n++;else if(p instanceof HTMLSelectElement){let g=!1;y==="highestEdu"?g=C(p,w):y==="yearsOfExperience"?g=F(p,w):g=m(p,w),g&&n++}}}return await new Promise(p=>setTimeout(p,500)),j(),await _(i),n}chrome.runtime.onMessage.addListener((e,i,r)=>{if(e.action==="autofill")return P(e.resumeData,e.cvAvailable).then(n=>{r({success:!0,filledCount:n})}),!0;if(e.action==="detectFields"){const n=l();return r({success:!0,fieldCount:n.length}),!0}}),console.log("[RAE] Autofill content script loaded")}},x=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function v(a,...c){}const I={debug:(...a)=>v(console.debug,...a),log:(...a)=>v(console.log,...a),warn:(...a)=>v(console.warn,...a),error:(...a)=>v(console.error,...a)};class S extends Event{constructor(c,l){super(S.EVENT_NAME,{}),this.newUrl=c,this.oldUrl=l}static EVENT_NAME=L("wxt:locationchange")}function L(a){return`${x?.runtime?.id}:content:${a}`}function M(a){let c,l;return{run(){c==null&&(l=new URL(location.href),c=a.setInterval(()=>{let u=new URL(location.href);u.href!==l.href&&(window.dispatchEvent(new S(u,l)),l=u)},1e3))}}}class E{constructor(c,l){this.contentScriptName=c,this.options=l,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=L("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=M(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(c){return this.abortController.abort(c)}get isInvalid(){return x.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(c){return this.signal.addEventListener("abort",c),()=>this.signal.removeEventListener("abort",c)}block(){return new Promise(()=>{})}setInterval(c,l){const u=setInterval(()=>{this.isValid&&c()},l);return this.onInvalidated(()=>clearInterval(u)),u}setTimeout(c,l){const u=setTimeout(()=>{this.isValid&&c()},l);return this.onInvalidated(()=>clearTimeout(u)),u}requestAnimationFrame(c){const l=requestAnimationFrame((...u)=>{this.isValid&&c(...u)});return this.onInvalidated(()=>cancelAnimationFrame(l)),l}requestIdleCallback(c,l){const u=requestIdleCallback((...m)=>{this.signal.aborted||c(...m)},l);return this.onInvalidated(()=>cancelIdleCallback(u)),u}addEventListener(c,l,u,m){l==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),c.addEventListener?.(l.startsWith("wxt:")?L(l):l,u,{...m,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),I.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:E.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(c){const l=c.data?.type===E.SCRIPT_STARTED_MESSAGE_TYPE,u=c.data?.contentScriptName===this.contentScriptName,m=!this.receivedMessageIds.has(c.data?.messageId);return l&&u&&m}listenForNewerScripts(c){let l=!0;const u=m=>{if(this.verifyScriptStartedEvent(m)){this.receivedMessageIds.add(m.data.messageId);const C=l;if(l=!1,C&&c?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",u),this.onInvalidated(()=>removeEventListener("message",u))}}function z(){}function k(a,...c){}const $={debug:(...a)=>k(console.debug,...a),log:(...a)=>k(console.log,...a),warn:(...a)=>k(console.warn,...a),error:(...a)=>k(console.error,...a)};return(async()=>{try{const{main:a,...c}=N,l=new E("content",c);return await a(l)}catch(a){throw $.error('The content script "content" crashed on startup!',a),a}})()})();
content;