var content=(function(){"use strict";function ee(l){return l}const q={matches:["<all_urls>"],runAt:"document_idle",main(){const l={1:"january","01":"january",2:"february","02":"february",3:"march","03":"march",4:"april","04":"april",5:"may","05":"may",6:"june","06":"june",7:"july","07":"july",8:"august","08":"august",9:"september","09":"september",10:"october",11:"november",12:"december"};function a(e,o,t){const r=parseFloat(e);if(!r||!o||!t||o===t)return e;const i={hourly:160,monthly:1,yearly:1/12},n={hourly:1/160,monthly:1,yearly:12},u=r*(i[o]||1)*(n[t]||1);return String(Math.round(u))}function c(e){return e.includes("hour")||e.includes("/hr")||e.includes("p/h")?"hourly":e.includes("month")||e.includes("/mo")||e.includes("p/m")?"monthly":e.includes("year")||e.includes("annual")||e.includes("/yr")||e.includes("p/a")||e.includes("per annum")?"yearly":null}function d(e){const o=[];if(e.id){const s=document.querySelector(`label[for="${CSS.escape(e.id)}"]`);s&&o.push(s.textContent||"")}const t=e.closest("label");t&&o.push(t.textContent||"");const r=e.previousElementSibling;r&&["LABEL","SPAN","P","DIV"].includes(r.tagName)&&o.push(r.textContent||"");const i=e.parentElement;i&&i.querySelectorAll('label, span[class*="label"], div[class*="label"], p').forEach(s=>o.push(s.textContent||""));const n=e.closest("div, fieldset, li, section");if(n){const s=n.querySelector('label, legend, span[class*="label"], div[class*="label"]');s&&o.push(s.textContent||"")}return o.join(" ").toLowerCase().replace(/\s+/g," ").trim()}function m(e){const o=e.id?.toLowerCase()||"",t=e.name?.toLowerCase()||"",r=e.placeholder?.toLowerCase()||"",i=e.getAttribute("aria-label")?.toLowerCase()||"",n=(e.getAttribute("data-field")||e.getAttribute("data-testid")||e.getAttribute("data-cy")||"").toLowerCase(),s=e.getAttribute("autocomplete")?.toLowerCase()||"",u=d(e),f=`${o} ${t} ${r} ${i} ${u} ${n} ${s}`,I=[{keywords:["fullname","full-name","full_name","yourname","your-name","applicantname","candidatename"],type:"fullName",confidence:.9},{keywords:["firstname","first-name","first_name","fname","given-name","givenname","forename","first name","given name"],type:"firstName",confidence:.95},{keywords:["lastname","last-name","last_name","lname","surname","family-name","familyname","family name","last name"],type:"lastName",confidence:.95},{keywords:["email","e-mail","emailaddress","email address","email-address","mail"],type:"email",confidence:.95},{keywords:["mobile number","mobile phone","mobile-number","mobilenumber","cell number"],type:"phone",confidence:.95},{keywords:["phone","telephone","phonenumber","phone-number","phone number","cell phone","contact number","tel"],type:"phone",confidence:.9},{keywords:["whatsapp","whats app","whatsapp number"],type:"whatsapp",confidence:.95},{keywords:["countrycode","country-code","country_code","dialcode","dial-code","dial code","calling code","isd","phone code","mobile code"],type:"countryCode",confidence:.9},{keywords:["phone type","phonetype","number type","type of phone","contact type","phone device type"],type:"phoneType",confidence:.85},{keywords:["full postal address","postal address","full address","complete address","mailing address"],type:"fullAddress",confidence:.95},{keywords:["streetaddress","street-address","address1","address-line-1","addressline1","address line 1","addr1","street address"],type:"streetAddress",confidence:.85},{keywords:["city","town","suburb","municipality"],type:"city",confidence:.9},{keywords:["zipcode","zip-code","zip","postalcode","postal-code","postcode","postal code"],type:"zipCode",confidence:.85},{keywords:["state","province","region","county"],type:"state",confidence:.75},{keywords:["country","nation","country of residence","country of origin","citizenship","nationality","home country","location country"],type:"country",confidence:.9},{keywords:["location","residence","based in","current location","preferred location","work location"],type:"location",confidence:.8},{keywords:["summary","professional summary","about me","bio","profile","objective","describe yourself","tell us about yourself","personal statement"],type:"professionalSummary",confidence:.75},{keywords:["cover letter","covering letter","motivation letter","motivational letter","letter of motivation","why do you want","why are you interested","why us","why this role"],type:"coverLetter",confidence:.85},{keywords:["skill","skills","expertise","competencies","technologies","tech stack","tools","technical skills","key skills"],type:"skills",confidence:.75},{keywords:["jobtitle","job-title","job title","currenttitle","current title","current job title","desired title"],type:"jobTitle",confidence:.9},{keywords:["industry"],type:"industry",confidence:.75},{keywords:["company","employer","organization","organisation","current company","current employer","workplace"],type:"companyName",confidence:.85},{keywords:["start month","startmonth","start-month","from month"],type:"expStartMonth",confidence:.9},{keywords:["start year","startyear","start-year","from year","year started"],type:"expStartYear",confidence:.9},{keywords:["end month","endmonth","end-month","to month"],type:"expEndMonth",confidence:.9},{keywords:["end year","endyear","end-year","to year","year ended","year finished"],type:"expEndYear",confidence:.9},{keywords:["highest education","level of education","education level","degree level","highest degree","highest qualification"],type:"highestEdu",confidence:.9},{keywords:["do you have a degree","do you hold a degree","have a degree","have a bachelor","have a master","have a phd","highest level of education"],type:"hasDegree",confidence:.9},{keywords:["school","university","college","institution","alma mater"],type:"schoolName",confidence:.85},{keywords:["degree","major","field of study","fieldofstudy","discipline","qualification","program","area of study"],type:"fieldOfStudy",confidence:.8},{keywords:["graduation year","grad year","year of graduation","completed year"],type:"eduEndYear",confidence:.85},{keywords:["enrollment year","enrolment year","year enrolled"],type:"eduStartYear",confidence:.8},{keywords:["project name","projectname","project title"],type:"projectName",confidence:.75},{keywords:["linkedin.com","linkedin url","linkedin profile","linkedin link","linkedin profile url"],type:"linkedin",confidence:.98},{keywords:["linkedin"],type:"linkedin",confidence:.9},{keywords:["github","github url","github profile"],type:"github",confidence:.95},{keywords:["website","personal website","portfolio url","portfolio link","personal url","your website","portfolio"],type:"website",confidence:.75},{keywords:["salary","expected salary","desired salary","compensation","salary expectation","base salary","rate","remuneration"],type:"salary",confidence:.85},{keywords:["currency","salary currency","pay currency"],type:"salaryCurrency",confidence:.8},{keywords:["salary type","pay type","pay period","compensation type"],type:"salaryType",confidence:.8},{keywords:["language","languages spoken","language proficiency"],type:"language",confidence:.75},{keywords:["language level","proficiency","fluency"],type:"languageLevel",confidence:.75},{keywords:["availability","start date","available from","when can you start","notice period"],type:"availability",confidence:.85},{keywords:["employment type","job type","work type","position type","contract type","full time","part time","part-time","full-time"],type:"employmentType",confidence:.85},{keywords:["years of experience","experience years","how many years","total experience","years experience"],type:"yearsOfExperience",confidence:.85},{keywords:["work authorization","authorized to work","visa status","right to work","work permit","eligible to work"],type:"workAuth",confidence:.85},{keywords:["willing to relocate","open to relocate","relocation","relocate"],type:"relocation",confidence:.8},{keywords:["gender","sex"],type:"gender",confidence:.8},{keywords:["race","ethnicity","ethnic"],type:"ethnicity",confidence:.8},{keywords:["veteran","military","armed forces"],type:"veteran",confidence:.8},{keywords:["disability","disabled","impairment"],type:"disability",confidence:.8},{keywords:["how did you hear","referral source","where did you hear"],type:"referralSource",confidence:.8}];for(const v of I)for(const E of v.keywords)if(f.includes(E)){if(E==="name"&&(f.includes("first")||f.includes("last")||f.includes("full")||f.includes("company")||f.includes("school"))||E==="title"&&(f.includes("mr")||f.includes("ms")||f.includes("dr")||f.includes("salutation")))continue;return{type:v.type,confidence:v.confidence}}return/\bname\b/.test(f)&&!f.includes("first")&&!f.includes("last")&&!f.includes("company")&&!f.includes("school")&&!f.includes("file")?{type:"fullName",confidence:.7}:{type:"unknown",confidence:0}}function A(){const e=[];return document.querySelectorAll('input:not([type="submit"]):not([type="button"]):not([type="hidden"]):not([type="file"]):not([type="image"]):not([type="reset"]):not([type="checkbox"]), textarea, select').forEach(o=>{if(!(o instanceof HTMLInputElement)&&!(o instanceof HTMLTextAreaElement)&&!(o instanceof HTMLSelectElement))return;const{type:t,confidence:r}=m(o);r>.5&&e.push({element:o,type:t,confidence:r})}),e}function j(e,o){if(!o)return;e.focus();const t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set,r=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value")?.set,i=e instanceof HTMLInputElement?t:r;i?i.call(e,o):e.value=o;const n={bubbles:!0,cancelable:!0,composed:!0};e.dispatchEvent(new Event("input",n)),e.dispatchEvent(new Event("change",n)),e.dispatchEvent(new InputEvent("input",{...n,data:o})),e.dispatchEvent(new KeyboardEvent("keydown",{...n,key:"Enter"})),e.blur()}function b(e,o,t){if(!o)return;const r=(t||"01").padStart(2,"0");j(e,`${o}-${r}-01`)}function g(e,o){if(!o)return!1;const t=o.toLowerCase().trim(),r=Array.from(e.options);let i=r.find(n=>n.text.toLowerCase().trim()===t||n.value.toLowerCase().trim()===t);return i||(i=r.find(n=>{const s=n.text.toLowerCase().trim();return s.length>1&&(t.includes(s)||s.includes(t))})),i||(i=r.find(n=>{const s=n.value.toLowerCase().trim();return s.length>1&&(t.includes(s)||s.includes(t))})),!i&&t.length>3&&(i=r.find(n=>n.text.toLowerCase().trim().startsWith(t.substring(0,4)))),i?(e.value=i.value,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0):!1}function z(e,o){if(!o)return!1;const t=l[o]||o.toLowerCase(),r=o.padStart(2,"0"),n=Array.from(e.options).find(s=>{const u=s.text.toLowerCase().trim(),f=s.value.toLowerCase().trim();return u===t||f===o||f===r||u.startsWith(t.substring(0,3))});return n?(e.value=n.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function H(e,o){if(!o)return!1;if(g(e,o))return!0;const t=o.substring(0,2).toLowerCase(),r=Array.from(e.options).find(i=>i.value.toLowerCase()===t||i.text.toLowerCase().startsWith(t));return r?(e.value=r.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function R(e,o){if(!o)return!1;if(g(e,o))return!0;const t=o.length===2?o.toLowerCase():o.substring(0,2).toLowerCase(),r=Array.from(e.options).find(i=>i.value.toLowerCase()===t);return r?(e.value=r.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function U(e,o,t){if(!o&&!t)return!1;const r=Array.from(e.options),i=(o||"").replace("+","");let n=r.find(s=>{const u=s.text.toLowerCase(),f=s.value.toLowerCase();return f===o||f===`+${i}`||f===i||u.includes(`+${i}`)});return!n&&t&&(n=r.find(s=>s.text.toLowerCase().includes(t.toLowerCase())||s.value.toLowerCase().includes(t.toLowerCase().substring(0,3)))),n?(e.value=n.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function W(e,o){if(!o)return!1;const t=o.toLowerCase(),r=Array.from(e.options).find(i=>{const n=i.text.toLowerCase();return n.includes(t)||t.includes("bachelor")&&n.includes("bachelor")||t.includes("master")&&n.includes("master")||(t.includes("phd")||t.includes("doctor"))&&(n.includes("doctor")||n.includes("phd"))});return r?(e.value=r.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function B(e,o){if(!o)return!1;const t=parseInt(o),r=Array.from(e.options).find(i=>{const n=i.text.toLowerCase();if(n.includes(o))return!0;const s=n.match(/\d+/g);if(s){const u=parseInt(s[0]);if(s.length===1&&n.includes("+")&&t>=u||s.length===2&&t>=u&&t<=parseInt(s[1]))return!0}return!1});return r?(e.value=r.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function G(e,o,t){Array.from(e.options);const r=c(d(e));return r&&r!==t?g(e,a(o,t,r)):g(e,o)}function V(e,o){if(!o)return!1;const t=o.toLowerCase(),i=Array.from(e.options).find(n=>{const s=n.text.toLowerCase(),u=n.value.toLowerCase();return s.includes(t)||u.includes(t)||t.includes("full")&&(s.includes("full")||u.includes("full"))||t.includes("part")&&(s.includes("part")||u.includes("part"))||t.includes("intern")&&(s.includes("intern")||u.includes("intern"))||t.includes("contract")&&(s.includes("contract")||u.includes("contract"))});return i?(e.value=i.value,e.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1}function K(e,o){if(!e||!o)return;const t=document.querySelectorAll(`input[type="radio"][name="${e}"]`);if(!t.length)return;const r=o.toLowerCase().trim();let i;t.forEach(n=>{const s=d(n).toLowerCase(),u=n.value.toLowerCase().trim();(u===r||s.includes(r)||r.includes(u))&&(i=n)}),i&&(i.checked=!0,i.dispatchEvent(new Event("change",{bubbles:!0})),i.dispatchEvent(new Event("click",{bubbles:!0})))}function J(e){const o=new Map;document.querySelectorAll('input[type="radio"]').forEach(t=>{if(!t.name||o.has(t.name))return;const r=d(t).toLowerCase(),i=t.name.toLowerCase(),n=`${r} ${i}`;if(n.includes("phone type")||n.includes("contact type"))o.set(t.name,"home");else if(n.includes("whatsapp"))o.set(t.name,"yes");else if(n.includes("work auth")||n.includes("authorized")||n.includes("eligible to work"))o.set(t.name,"yes");else if(n.includes("relocat"))o.set(t.name,"yes");else if(n.includes("gender")&&e.gender)o.set(t.name,e.gender);else if(n.includes("veteran"))o.set(t.name,e.veteran||"no");else if(n.includes("disability"))o.set(t.name,e.disability||"no");else if(n.includes("ethnicity")||n.includes("race"))e.ethnicity&&o.set(t.name,e.ethnicity);else if(n.includes("language")&&e.languages?.length)e.languages.forEach(s=>{n.includes(s.language.toLowerCase())&&o.set(t.name,"yes")});else if(n.includes("english"))o.set(t.name,"yes");else if(n.includes("degree")||n.includes("bachelor")||n.includes("master")||n.includes("phd")){const s=e.education&&e.education.some(u=>u.schoolName||u.fieldOfStudy);o.set(t.name,s?"yes":"no")}else(n.includes("full time")||n.includes("full-time")||n.includes("part time")||n.includes("part-time")||n.includes("employment type"))&&e.employmentType&&o.set(t.name,e.employmentType)}),o.forEach((t,r)=>t&&K(r,t))}async function x(e,o,t){try{const r=await chrome.storage.local.get(["auth_token","api_url"]);if(!r.auth_token||!r.api_url)return!1;const i=await chrome.runtime.sendMessage({action:"proxyFetchFile",url:`${r.api_url}${o}`,token:r.auth_token});if(!i?.success)return!1;const s=await(await fetch(i.base64)).blob(),u=new File([s],t,{type:"application/pdf"}),f=new DataTransfer;return f.items.add(u),e.files=f.files,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),!0}catch(r){return console.error("[RAE] File upload error:",r),!1}}async function Q(e){const o=Array.from(document.querySelectorAll('input[type="file"]'));document.querySelectorAll('button, [role="button"], a').forEach(i=>{const n=(i.textContent?.toLowerCase().trim()||"")+" "+(i.getAttribute("aria-label")?.toLowerCase()||"");if((n.includes("add file")||n.includes("attach")||n.includes("choose file")||n.includes("upload file"))&&!n.includes("remove")){const s=i.closest("div, section, form")?.querySelector('input[type="file"]');s instanceof HTMLInputElement&&!o.includes(s)&&o.push(s)}});let t=!1,r=!1;for(const i of o){const n=`${d(i)} ${i.id?.toLowerCase()} ${i.name?.toLowerCase()}`,s=n.includes("resume")||n.includes("cv")||n.includes("curriculum");(n.includes("cover")||n.includes("letter")||n.includes("motivation"))&&e&&!r?await x(i,"/api/cv/view","cover-letter.pdf")&&(r=!0):s&&!t&&await x(i,"/api/resume/view","resume.pdf")&&(t=!0)}for(const i of o)if(!(i.files&&i.files.length>0)){if(!t&&await x(i,"/api/resume/view","resume.pdf")){t=!0;continue}e&&!r&&await x(i,"/api/cv/view","cover-letter.pdf")&&(r=!0)}}async function Y(e,o){const t=e==="experience"?["add experience","add work","add job","add position","add employment","+ experience"]:["add education","add school","add degree","add qualification","+ education"],r=Array.from(document.querySelectorAll('button, [role="button"]')).find(n=>t.some(s=>(n.textContent?.toLowerCase().trim()||"").includes(s)));if(!r)return;const i=document.querySelectorAll("input, textarea, select").length;r.click(),await new Promise(n=>setTimeout(n,800)),document.querySelectorAll("input, textarea, select").length>i&&await $(o)}async function $(e){const o=A();let t=0;const r=`${e.firstName} ${e.lastName}`.trim(),i=e.experience?.[0],n=e.education?.[0],s=e.projects?.[0],u=e.location||[e.city,e.country].filter(Boolean).join(", "),f=[e.streetAddress,e.city,e.state,e.zipCode,e.country].filter(Boolean).join(", "),I=e.portfolio||e.github||e.linkedin||s?.link||"",v=(()=>{let p=0;return e.experience?.forEach(y=>{const h=parseInt(y.startYear)*12+(parseInt(y.startMonth)||1),w=!y.endYear||y.endYear.toLowerCase().includes("present"),k=w?new Date().getFullYear():parseInt(y.endYear),D=w?new Date().getMonth()+1:parseInt(y.endMonth)||1,F=k*12+D;isNaN(F-h)||(p+=F-h)}),String(Math.max(0,Math.floor(p/12)))})(),E=e.education?.some(p=>p.schoolName||p.fieldOfStudy),Z={fullName:r,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,whatsapp:e.phone,countryCode:e.countryCode||"",phoneNumber:e.phoneNumber||e.phone,phoneType:"Home",fullAddress:f,streetAddress:e.streetAddress,city:e.city,state:e.state||"",zipCode:e.zipCode||"",country:e.country,location:u,professionalSummary:e.professionalSummary,coverLetter:e.professionalSummary,skills:Array.isArray(e.skills)?e.skills.join(", "):"",jobTitle:i?.jobTitle||"",industry:i?.jobTitle||"",companyName:i?.companyName||"",expStartMonth:i?.startMonth||"",expStartYear:i?.startYear||"",expEndMonth:i?.endMonth||"",expEndYear:i?.endYear||"",schoolName:n?.schoolName||"",fieldOfStudy:n?.fieldOfStudy||"",eduStartYear:n?.startYear||"",eduEndYear:n?.endYear||"",highestEdu:n?.fieldOfStudy||"",hasDegree:E?"yes":"no",projectName:s?.projectName||"",linkedin:e.linkedin||"",github:e.github||"",website:I,salary:e.salaryAmount||"",salaryCurrency:e.salaryCurrency||"USD",salaryType:e.salaryType||"monthly",language:e.languages?.[0]?.language||"",languageLevel:e.languages?.[0]?.level||"",availability:e.availability||"",employmentType:e.employmentType||"",yearsOfExperience:v,workAuth:"Yes",relocation:"Yes",gender:e.gender||"",ethnicity:e.ethnicity||"",veteran:e.veteran||"No",disability:e.disability||"No",referralSource:""};for(const{element:p,type:y}of o){let h=Z[y]||"";if(y==="salary"&&h&&e.salaryType){const w=d(p),k=c(w);k&&k!==e.salaryType&&(h=a(h,e.salaryType,k))}if(h)if(p instanceof HTMLInputElement&&p.type==="date")y==="expStartYear"?b(p,i?.startYear||"",i?.startMonth||"01"):y==="expEndYear"?b(p,i?.endYear||"",i?.endMonth||"12"):y==="eduStartYear"?b(p,n?.startYear||"","09"):y==="eduEndYear"?b(p,n?.endYear||"","05"):b(p,h),t++;else if(p instanceof HTMLSelectElement){let w=!1;y==="expStartMonth"||y==="expEndMonth"?w=z(p,h):y==="state"?w=H(p,h):y==="country"?w=R(p,h):y==="countryCode"?w=U(p,e.countryCode||"",e.country):y==="highestEdu"||y==="fieldOfStudy"?w=W(p,h):y==="yearsOfExperience"?w=B(p,h):y==="salary"?w=G(p,h,e.salaryType):y==="employmentType"?w=V(p,h):w=g(p,h),w&&t++}else(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement)&&(j(p,h),t++)}return t}async function X(e,o){const t=await $(e);return await new Promise(r=>setTimeout(r,300)),await Y("experience",e),await Y("education",e),await new Promise(r=>setTimeout(r,300)),J(e),await new Promise(r=>setTimeout(r,200)),await Q(o),t}chrome.runtime.onMessage.addListener((e,o,t)=>{if(e.action==="autofill")return X(e.resumeData,e.cvAvailable).then(r=>{t({success:!0,filledCount:r})}).catch(r=>{console.error("[RAE] Autofill error:",r),t({success:!1,filledCount:0})}),!0;if(e.action==="detectFields")return t({success:!0,fieldCount:A().length}),!0}),console.log("[RAE] Autofill content script loaded")}},M=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function S(l,...a){}const _={debug:(...l)=>S(console.debug,...l),log:(...l)=>S(console.log,...l),warn:(...l)=>S(console.warn,...l),error:(...l)=>S(console.error,...l)};class T extends Event{constructor(a,c){super(T.EVENT_NAME,{}),this.newUrl=a,this.oldUrl=c}static EVENT_NAME=N("wxt:locationchange")}function N(l){return`${M?.runtime?.id}:content:${l}`}function P(l){let a,c;return{run(){a==null&&(c=new URL(location.href),a=l.setInterval(()=>{let d=new URL(location.href);d.href!==c.href&&(window.dispatchEvent(new T(d,c)),c=d)},1e3))}}}class C{constructor(a,c){this.contentScriptName=a,this.options=c,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=N("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=P(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(a){return this.abortController.abort(a)}get isInvalid(){return M.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(a){return this.signal.addEventListener("abort",a),()=>this.signal.removeEventListener("abort",a)}block(){return new Promise(()=>{})}setInterval(a,c){const d=setInterval(()=>{this.isValid&&a()},c);return this.onInvalidated(()=>clearInterval(d)),d}setTimeout(a,c){const d=setTimeout(()=>{this.isValid&&a()},c);return this.onInvalidated(()=>clearTimeout(d)),d}requestAnimationFrame(a){const c=requestAnimationFrame((...d)=>{this.isValid&&a(...d)});return this.onInvalidated(()=>cancelAnimationFrame(c)),c}requestIdleCallback(a,c){const d=requestIdleCallback((...m)=>{this.signal.aborted||a(...m)},c);return this.onInvalidated(()=>cancelIdleCallback(d)),d}addEventListener(a,c,d,m){c==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),a.addEventListener?.(c.startsWith("wxt:")?N(c):c,d,{...m,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),_.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:C.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(a){const c=a.data?.type===C.SCRIPT_STARTED_MESSAGE_TYPE,d=a.data?.contentScriptName===this.contentScriptName,m=!this.receivedMessageIds.has(a.data?.messageId);return c&&d&&m}listenForNewerScripts(a){let c=!0;const d=m=>{if(this.verifyScriptStartedEvent(m)){this.receivedMessageIds.add(m.data.messageId);const A=c;if(c=!1,A&&a?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",d),this.onInvalidated(()=>removeEventListener("message",d))}}function ne(){}function L(l,...a){}const O={debug:(...l)=>L(console.debug,...l),log:(...l)=>L(console.log,...l),warn:(...l)=>L(console.warn,...l),error:(...l)=>L(console.error,...l)};return(async()=>{try{const{main:l,...a}=q,c=new C("content",a);return await l(c)}catch(l){throw O.error('The content script "content" crashed on startup!',l),l}})()})();
content;